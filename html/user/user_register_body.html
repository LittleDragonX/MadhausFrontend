<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,width=device-width,initial-scale=1.0">
	<meta name="format-detection" content="telephone=no,email=no,date=no,address=no">
	<title>play_register_body</title>
	<link href="../../css/Hui.css" rel="stylesheet" type="text/css">
	<style type="text/css">
		body {
			background: url(../../image/body.png) no-repeat left top;
			background-size: cover;
		}

		.loginOff {
			background-image: linear-gradient(120deg, #CCCCCC 0%, #CCCCCC 100%);
			border: 1px solid #FFF;
			border-radius: 30px;
			color: #FFFFFF;
		}

		.loginOn {
			background-image: linear-gradient(120deg, #FA6931 0%, #FF8555 100%);
			border: 1px solid #FFF;
			border-radius: 30px;
			color: #FFFFFF;
		}

		.loginOn:active {
			background-image: linear-gradient(120deg, #fd4f38 0%, #ff4532 100%);
			border: 1px solid #FFF;
			border-radius: 30px;
			color: #FFFFFF;
		}

		.yzmOff {
			background-image: linear-gradient(120deg, #CCCCCC 0%, #CCCCCC 100%);
			border: 1px solid #CCCCCC;
			border-radius: 30px;
			color: #FFFFFF;
		}

		.yzmOn {
			background-image: linear-gradient(120deg, #FA6931 0%, #FF8555 100%);
			border: 1px solid #FD6B19;
			border-radius: 30px;
			color: #FFFFFF;
		}

		.yzmOn:active {
			background-image: linear-gradient(120deg, #fd4f38 0%, #ff4532 100%);
			border: 1px solid #FD6B19;
			border-radius: 30px;
			color: #FFFFFF;
		}
	</style>
	<script src="https://cdn.bootcss.com/jquery/1.10.2/jquery.min.js"></script>
</head>

<body class="H-height-100-percent H-box-sizing-border-box H-overflow-hidden">
	<div class="fix H-margin-horizontal-both-15">
		<div class="H-flexbox-horizontal  H-border-vertical-bottom-margin-both-10-after">
			<span class="H-icon H-vertical-middle H-padding-horizontal-left-10"><i
					class="H-iconfont H-icon-phone H-font-size-18 H-vertical-middle H-theme-font-color-999"></i></span>
			<input onkeyup="registers()" id="username" type="number" class="H-textbox H-vertical-align-middle H-vertical-middle H-font-size-16 H-flex-item H-box-sizing-border-box H-border-none H-outline-none H-padding-15 H-theme-background-color-transparent" placeholder="请输入手机号码"
			/>
		</div>
		<div class="H-flexbox-horizontal H-border-vertical-bottom-after">
			<span class="H-icon H-vertical-middle H-padding-horizontal-left-10"><i
					class="H-iconfont H-icon-lock H-font-size-18 H-vertical-middle H-theme-font-color-999"></i></span>
			<input onkeyup="registers()" id="yzm" type="number" class="H-textbox H-vertical-align-middle H-vertical-middle H-font-size-16 H-flex-item H-box-sizing-border-box H-border-none H-outline-none H-padding-15 H-theme-background-color-transparent H-width-90"
							placeholder="请输入验证码" />
			<div class="H-height-100-percent H-margin-horizontal-right-10">
				<button onclick="getVCode()" id="yzm1" class="H-button H-font-size-14 H-outline-none H-padding-vertical-both-5 H-padding-horizontal-both-10 H-theme-font-color-white H-margin-vertical-both-10 yzmOff">
						获取验证码
					</button>
			</div>
		</div>
		<div class="H-flexbox-horizontal H-border-vertical-bottom-after">
			<span class="H-icon H-vertical-middle H-padding-horizontal-left-10"><i
					class="H-iconfont H-icon-user H-vertical-middle H-font-size-18 H-vertical-middle H-theme-font-color-999"></i></span>
			<input onkeyup="registers()" id="name" type="text" class="H-textbox H-vertical-align-middle H-vertical-middle H-font-size-16 H-flex-item H-box-sizing-border-box H-border-none H-outline-none H-padding-15 H-theme-background-color-transparent" placeholder="请输入您的昵称"
			/>
		</div>
		<div class="H-flexbox-horizontal H-border-vertical-bottom-after">
			<span class="H-icon H-vertical-middle H-padding-horizontal-left-10"><i
					class="H-iconfont H-icon-lock H-font-size-18 H-vertical-middle H-theme-font-color-999"></i></span>
			<input onkeyup="registers()" id="pwz" type="password" class="H-textbox H-vertical-align-middle H-vertical-middle H-font-size-16 H-flex-item H-box-sizing-border-box H-border-none H-outline-none H-padding-15 H-theme-background-color-transparent" placeholder="请输入密码" value="123456"
			/>
		</div>
		<div class="H-padding-15 H-margin-vertical-top-25">
			<button onclick="submintBtn()" id="login" class="H-button H-width-100-percent  H-font-size-16 H-outline-none H-padding-vertical-both-15 H-padding-horizontal-both-20 H-theme-font-color-white loginOff">
					注册
				</button>
		</div>
	</div>
	<div style="height:110px;"></div>
	<div class="H-width-100-percent H-text-align-center" style="position: fixed; bottom: 0; height: 110px;">
		<div class="H-flex-item H-center-all H-text-align-center H-width-100-percent H-height-75" style="float: left;">
			<span class="H-icon H-center-all H-theme-background-color9 H-border-radius-circle" style="height: 47px; width: 47px; margin: 0px;"><i
					class="H-iconfont H-icon-weixin H-font-size-26 H-theme-font-color-white"></i></span>
			<label class="H-display-block H-font-size-15 H-opacity-1-half H-margin-horizontal-left-10">使用微信账户登录</label>
		</div>
		<div class="H-width-100-percent H-text-align-center H-font-size-14 H-opacity-1-half H-width-100-percent">
			注册登录即表示您同意我们的 <span class="H-text-decoration-underline"> 用户许可协议 </span>
		</div>
	</div>
	<script src="../../script/H.js" type="text/javascript"></script>
	<script src="../../script/setting.js" type="text/javascript"></script>
	<script src="../../script/zepto.min.js" type="text/javascript"></script>
	<script type="text/javascript">
		var target = $("#login");
		var target1 = $("#yzm1");

		function phoneNumber() {
			if ($("#username").val().length == 11) {
				target1.removeClass("yzmOff");
				target1.addClass("yzmOn");
				target1.disabled = false;
			} else {
				target1.removeClass("yzmOn");
				target1.addClass("yzmOff");
				target1.disabled = true;
			}
		};

		function registers() {
			phoneNumber();
			if (($("#username").val().length != 0) && ($("#yzm").val().length != 0) && ($("#name").val().length != 0) && ($("#pwz").val().length != 0)) {
				target.removeClass("loginOff");
				target.addClass("loginOn");
				target.disabled = false;
			} else {
				target.removeClass("loginOn");
				target.addClass("loginOff");
				target.disabled = true;
			}
		};
		function getVCode(){
			var url = '/common/add/phone/auth/code/';
			var data = {
				phone:$("#username").val(),
				type:1
			};
			ajaxs(url,'post',data,false,function(ret){
				// $("#yzm").val()
				if(ret.success){
					$("#yzm").val(ret.data);
				}else{
					H.toast(ret.msg)
				}
			},function(ret,err){
				log(ret,true);
				log(err,true);
				if(err){
					H.toastErr('数据异常')
				}
			});
		};
		function submintBtn() {
			var url = '/user-profiles/signup/';
			var data = {
				phone:$("#username").val(),
				nickname:$("#name").val(),
				password:$("#pwz").val(),
				auth_code:$("#yzm").val()
			};
			ajaxs(url,'post',data,false,function(ret){
				if(ret.success){
					H.toastTip('注册成功');
					openLogoin();
					setTimeout(function(){
						api.closeWin()
					},500);
				}else{
					H.toast(ret.msg);
				}
			},function(ret,err){
				log(ret,true);
				log(err,true);
				if(err){
					H.toastErr('数据异常');
				}
			});
		};
		function openWin(title, name, url) {
			H.openWin('base_head_' + name, 'widget://html/comPages/baseBottom_head.html', {
				title : title,
				name : name,
				url : url
			}, {
				animation : {
					type : "movein",
					subType : "from_bottom",
					duration : 0
				}
			});
		};
		function openLogoin() {
			openWin('', 'user_register_body', '../user/user_register_body.html');
		};
	</script>
</body>

</html>
