<!doctype html>
<html>

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,width=device-width,initial-scale=1.0" />
	<meta name="format-detection" content="telephone=no,email=no,date=no,address=no">
	<title>分类 - 疯玩</title>
	<link href="../../../css/Hui.css" rel="stylesheet" type="text/css" />
	<style type="text/css">
		.H-timeline,
		.H-timeline-dot,
		html,
		body {
			background: #fff;
		}

		.H-width-avg-4 {
			padding: 0 0 15px 0;
		}

		.H-theme-border-color-ccc {
			border: 1px solid #f4f5f6;
			background-color: #f4f5f6;
		}

		.H-width-avg-4 .H-flex-item {
			max-width: 68px;
			text-align: center;
		}

		.ss {
			background-color: #ff7c48;
			color: #fff;
		}
	</style>
</head>

<body>
	<div class="H-text-list H-flexbox-horizontal H-theme-background-color-white H-vertical-middle H-padding-horizontal-left-10" style="box-shadow: 0 1px 6px #fff;height:42px;">
		<div class="H-flex-item H-font-size-16" style="padding: 9px 0px;">
			已有商品类型
		</div>
	</div>
	<div class="H-n-grid H-clear-both H-overflow-auto H-padding-vertical-top-15">
		<div id="itemList" class="H-clear-both H-width-100-percent H-display-table H-box-sizing-border-box" style="display:none;">
			<div class="H-display-table-cell H-float-left H-box-sizing-border-box H-width-avg-4 H-center-all H-padding-vertical-both-10 selected">
				<div class="H-flex-item H-center-all H-theme-border-color-ccc H-margin-horizontal-both-5 H-font-size-15 H-padding-vertical-both-5 H-theme-font-color3 H-border-radius-3 H-theme-background-color1 H-touch-active ss">
					推荐
				</div>
			</div>
			<div class="H-display-table-cell H-float-left H-box-sizing-border-box H-width-avg-4 H-center-all H-padding-vertical-both-10 selected">
				<div class="H-flex-item H-center-all H-theme-background-color-white H-theme-border-color-ccc H-margin-horizontal-both-5 H-font-size-15 H-padding-vertical-both-5 H-theme-font-color3 H-border-radius-3 H-touch-active">
					拼布
				</div>
			</div>
			<div class="H-display-table-cell H-float-left H-box-sizing-border-box H-width-avg-4 H-center-all H-padding-vertical-both-10">
				<div class="H-flex-item H-center-all H-theme-background-color-white H-theme-border-color-ccc H-margin-horizontal-both-5 H-font-size-15 H-padding-vertical-both-5 H-theme-font-color3 H-border-radius-3 H-touch-active">
					刺绣
				</div>
			</div>
			<div class="H-display-table-cell H-float-left H-box-sizing-border-box H-width-avg-4 H-center-all H-padding-vertical-both-10">
				<div class="H-flex-item H-center-all H-theme-background-color-white H-theme-border-color-ccc H-margin-horizontal-both-5 H-font-size-15 H-padding-vertical-both-5 H-theme-font-color3 H-border-radius-3 H-touch-active">
					服装
				</div>
			</div>
			<div class="H-display-table-cell H-float-left H-box-sizing-border-box H-width-avg-4 H-center-all H-padding-vertical-both-10">
				<div class="H-flex-item H-center-all H-theme-background-color-white H-theme-border-color-ccc H-margin-horizontal-both-5 H-font-size-15 H-padding-vertical-both-5 H-theme-font-color3 H-border-radius-3 H-touch-active">
					钩编
				</div>
			</div>
			<div class="H-display-table-cell H-float-left H-box-sizing-border-box H-width-avg-4 H-center-all H-padding-vertical-both-10">
				<div class="H-flex-item H-center-all H-theme-background-color-white H-theme-border-color-ccc H-margin-horizontal-both-5 H-font-size-15 H-padding-vertical-both-5 H-theme-font-color3 H-border-radius-3 H-touch-active">
					皮艺
				</div>
			</div>
			<div class="H-display-table-cell H-float-left H-box-sizing-border-box H-width-avg-4 H-center-all H-padding-vertical-both-10">
				<div class="H-flex-item H-center-all H-theme-background-color-white H-theme-border-color-ccc H-margin-horizontal-both-5 H-font-size-15 H-padding-vertical-both-5 H-theme-font-color3 H-border-radius-3 H-touch-active">
					黏土
				</div>
			</div>
			<div class="H-display-table-cell H-float-left H-box-sizing-border-box H-width-avg-4 H-center-all H-padding-vertical-both-10">
				<div class="H-flex-item H-center-all H-theme-background-color-white H-theme-border-color-ccc H-margin-horizontal-both-5 H-font-size-15 H-padding-vertical-both-5 H-theme-font-color3 H-border-radius-3 H-touch-active">
					拼布
				</div>
			</div>
			<div class="H-display-table-cell H-float-left H-box-sizing-border-box H-width-avg-4 H-center-all H-padding-vertical-both-10">
				<div class="H-flex-item H-center-all H-theme-background-color-white H-theme-border-color-ccc H-margin-horizontal-both-5 H-font-size-15 H-padding-vertical-both-5 H-theme-font-color3 H-border-radius-3 H-touch-active">
					刺绣
				</div>
			</div>
			<div class="H-display-table-cell H-float-left H-box-sizing-border-box H-width-avg-4 H-center-all H-padding-vertical-both-10">
				<div class="H-flex-item H-center-all H-theme-background-color-white H-theme-border-color-ccc H-margin-horizontal-both-5 H-font-size-15 H-padding-vertical-both-5 H-theme-font-color3 H-border-radius-3 H-touch-active">
					服装
				</div>
			</div>
			<div class="H-display-table-cell H-float-left H-box-sizing-border-box H-width-avg-4 H-center-all H-padding-vertical-both-10">
				<div class="H-flex-item H-center-all H-theme-background-color-white H-theme-border-color-ccc H-margin-horizontal-both-5 H-font-size-15 H-padding-vertical-both-5 H-theme-font-color3 H-border-radius-3 H-touch-active">
					钩编
				</div>
			</div>
		</div>
	</div>
	<div style="height: 48px;"></div>
	<div class="H-flexbox-horizontal H-box-sizing-border-box" style="position: fixed;bottom:0px;z-index: 10000;">
		<div tapmode="" onclick="btnSubmit()" class="H-flex-item H-center-all H-padding-vertical-both-12 H-font-size-16 H-theme-font-color-white" style="background-color:#ff7c48;">
			确定
		</div>
	</div>
	<script id="tpl_itemList" type="text/html">
		[: for (var i=0;i<list.length;i++) { :]
			<div data-id="[:=list[i].id:]" data-name="[:=list[i].name:]" class="H-display-table-cell H-float-left H-box-sizing-border-box H-width-avg-4 H-center-all H-padding-vertical-both-10 selected">
			<div class="H-flex-item H-center-all H-theme-background-color-white H-theme-border-color-ccc H-margin-horizontal-both-5 H-font-size-15 H-padding-vertical-both-5 H-theme-font-color3 H-border-radius-3">[:=list[i].name:]</div>
			</div>
		[:}:]
	</script>
	<script type="text/javascript" src="../../../script/H.js"></script>
	<script type="text/javascript" src="../../../script/zepto.min.js"></script>
	<script type="text/javascript" src="../../../script/setting.js"></script>
	<script type="text/javascript">
		var name = '',
			id = 0;
		H.ready(function() {
			getGoodsType();
			api.addEventListener({
				name: 'loadingData'
			}, function(ret, err) {
				if (ret) {
					getGoodsType();
				} else {
					alert(JSON.stringify(err));
				}
			});

		});

		function getGoodsType() {
			var url = '/fengwan/admin/get/activity/type/';
			http(url, 'get', null, function(ret) {
				log(ret, true);
				var html = H.tppl(H.D('#tpl_itemList').innerHTML, {
					list: ret.data.activity_type_list
				});
				$("#itemList").html(html).fadeIn(300);
				selectItem();
				api.parseTapmode();
			}, function(ret, err) {

			});
		};

		function selectItem() {
			$('.selected').on('tap', function() {
				$(this).find('.H-flex-item').addClass('ss');
				$(this).siblings().find('.H-flex-item').removeClass('ss');
				name = $(this).attr('data-name');
				id = $(this).attr('data-id');
			})
		};

		function btnSubmit() {
			// alert(id+'---'+name);
			var str = api.pageParam.str;
			api.execScript({
				name: 'detail_head_activity_' + str + '_body',
				frameName: 'activity_' + str + '_body',
				script: 'setGoodsType("' + id + '","' + name + '");'
			});
			api.closeWin();
		};
	</script>
</body>

</html>
