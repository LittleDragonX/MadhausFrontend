!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.scrollDir=e()}(this,function(){"use strict";function t(t){var e={el:document.documentElement,attribute:"data-scrolldir"},n=t&&t.el||e.el,o=t&&t.attribute||e.attribute;if(t&&t.off===!0)return n.setAttribute(o,"off");var i=document.body,r=32,d=512,u=64,f=Array(r),a="down",w=void 0,s=void 0,c=0,l=function(){var t=window.scrollY,e=w.timeStamp,l="down"===a?Math.max:Math.min,m=i.offsetHeight-window.innerHeight;if(t=Math.max(0,t),t=Math.min(m,t),f.unshift({y:t,t:e}),f.pop(),t===l(s,t))return c=e,void(s=t);var p=e-d;if(p>c){s=t;for(var v=0;v<r&&(f[v]&&!(f[v].t<p));v+=1)s=l(s,f[v].y)}Math.abs(t-s)>u&&(s=t,c=e,a="down"===a?"up":"down",n.setAttribute(o,a))},m=function(t){w=t,window.requestAnimationFrame(l)};return s=window.scrollY,n.setAttribute(o,a),window.addEventListener("scroll",m)}var e=window.$||window.jQuery||window.Zepto;return e&&e.fn.extend({scrollDir:function(e){return t(e)}}),t});